import{d as C,ar as Y,r as w,l as A,a2 as N,a4 as E,$ as J,o as b,c as $,a as e,a5 as m,a6 as a,b as d,R as t,b7 as O,ab as p,aw as y,N as c,X as R,aj as q,ac as g,at as z,O as S,m as G,a3 as P,b0 as n,bl as f}from"./index-3af22ecb.js";import{a as h,N as D}from"./Switch-056d63a8.js";const X={class:"mb-4 flex justify-between items-center"},W=e("span",{class:"text-red-500"},"*",-1),F={class:"mb-4 flex justify-between items-center"},H={class:"flex justify-between items-center"},Q={class:"flex justify-end items-center w-[80%] max-w-[240px]"},Z={class:"w-[200px]"},ee={class:"w-[40px] text-right"},te={class:"mb-4 text-[12px] text-gray-300 dark:text-gray-300/20"},se={class:"flex justify-between items-center"},ae={class:"flex justify-end items-center w-[80%] max-w-[240px]"},le={class:"w-[200px]"},oe={class:"w-[40px] text-right"},ne={class:"mb-4 text-[12px] text-gray-300 dark:text-gray-300/20"},ie={class:"mb-4"},re={class:"flex justify-between items-center"},ue={class:"flex justify-end items-center w-[80%] max-w-[240px]"},de={class:"w-[200px]"},pe={class:"w-[40px] text-right"},me={class:"mb-4 text-[12px] text-gray-300 dark:text-gray-300/20"},ce={class:"flex justify-between items-center"},ve={class:"flex justify-end items-center w-[80%] max-w-[240px]"},_e={class:"w-[200px]"},ye={class:"w-[40px] text-right"},fe={class:"mb-4 text-[12px] text-gray-300 dark:text-gray-300/20"},he={class:"flex justify-between items-center"},xe={class:"flex justify-end items-center w-[80%] max-w-[240px]"},be={class:"w-[200px]"},$e={class:"w-[40px] text-right"},ge={class:"mb-4 text-[12px] text-gray-300 dark:text-gray-300/20"},je={class:"flex justify-between items-center"},we={class:"flex justify-end items-center w-[80%] max-w-[240px]"},Se={class:"w-[200px]"},De={class:"w-[40px] text-right"},Ee={class:"mb-4 text-[12px] text-gray-300 dark:text-gray-300/20"},ke={class:"mb-4 flex justify-between items-center"},Ue={class:"text-right flex justify-end space-x-2"},rt=C({__name:"aiModel",emits:["close"],setup(I,{emit:j}){const x=Y().active,o=new z(x??1002),s=w(o.getGptConfig()),u=w({model:["gpt-4-turbo-2024-04-09","gpt-4o-2024-05-13","gpt-4o","gpt-4-turbo","gpt-4-0125-preview","gpt-3.5-turbo","gpt-4-1106-preview","gpt-3.5-turbo-16k","gpt-4","gpt-4-0613","gpt-4-32k-0613","gpt-4-32k","gpt-4-32k-0314","gpt-3.5-turbo-16k-0613","gpt-4-vision-preview","gpt-3.5-turbo-1106","gpt-3.5-turbo-0125","gpt-3.5-turbo-0301","gpt-3.5-turbo-0613","gpt-4-all","gpt-3.5-net","gemini-pro","gemini-pro-vision","gemini-pro-1.5","claude-3-sonnet-20240229","claude-3-opus-20240229","claude-3-haiku-20240307","suno-v3"],maxToken:4096}),U=w({openMore:!1}),B=A(()=>{let l=[];for(let i of"alloy,echo,fable,onyx,nova,shimmer".split(/[ ,]+/ig))l.push({label:i,value:i});return l}),T=A(()=>{let l=[];for(let r of u.value.model)l.push({label:r,value:r});if(y.myData.userModel){let r=y.myData.userModel.split(/[ ,]+/ig);for(let _ of r)_&&l.push({label:_,value:_})}if(S.myData.session.cmodels){let r=[],_=[],M=!1;S.myData.session.cmodels.split(/[ ,]+/ig).map(v=>{v.indexOf("-")==0?(r.push(v.substring(1)),v=="-all"&&(M=!0)):_.push(v)}),G("cmodels",r,_),M&&(l=[]),l=l.filter(v=>r.indexOf(v.value)==-1),_.map(v=>l.push({label:v,value:v})),l.length==0&&l.push({label:"gpt-3.5-turbo",value:"gpt-3.5-turbo"})}return Array.from(new Map(l.map(r=>[JSON.stringify(r),r])).values())}),K=N(),L=l=>{o.save(s.value),y.setMyData(s.value),S.setMyData({act:"saveChat"}),l!="hide"&&K.success(P("common.saveSuccess")),j("close")};E(()=>s.value.model,l=>{s.value.gpts=void 0;let i=4096*2*2;(l.indexOf("vision")>-1||l.indexOf("gpt-4")>-1||l.indexOf("16k")>-1||l.toLowerCase().includes("claude-3"))&&(i=4096*2),u.value.maxToken=i/2,s.value.max_tokens>u.value.maxToken&&(s.value.max_tokens=u.value.maxToken)});const V=()=>{y.setInit(),s.value=y.myData};return J(()=>{}),(l,i)=>(b(),$(R,null,[e("section",X,[e("div",null,[W,m(" "+a(l.$t("mjset.model")),1)]),d(t(O),{value:s.value.model,"onUpdate:value":i[0]||(i[0]=r=>s.value.model=r),options:t(T),size:"small",filterable:"",class:"!w-[50%]"},null,8,["value","options"])]),e("section",F,[d(t(c),{placeholder:l.$t("mjchat.modlePlaceholder"),value:t(y).myData.userModel,"onUpdate:value":i[1]||(i[1]=r=>t(y).myData.userModel=r)},{prefix:p(()=>[m(a(l.$t("mjchat.myModle")),1)]),_:1},8,["placeholder","value"])]),e("section",H,[e("div",null,a(l.$t("mjchat.historyCnt")),1),e("div",Q,[e("div",Z,[d(t(h),{value:s.value.talkCount,"onUpdate:value":i[2]||(i[2]=r=>s.value.talkCount=r),step:1,max:50},null,8,["value"])]),e("div",ee,a(s.value.talkCount),1)])]),e("div",te,a(l.$t("mjchat.historyToken")),1),e("section",se,[e("div",null,a(l.$t("mjchat.historyTCnt")),1),e("div",ae,[e("div",le,[d(t(h),{value:s.value.max_tokens,"onUpdate:value":i[3]||(i[3]=r=>s.value.max_tokens=r),step:1,max:u.value.maxToken,min:1},null,8,["value","max"])]),e("div",oe,a(s.value.max_tokens),1)])]),e("div",ne,a(l.$t("mjchat.historyTCntInfo")),1),e("section",ie,[e("div",null,a(l.$t("mjchat.role")),1),e("div",null,[d(t(c),{type:"textarea",placeholder:l.$t("mjchat.rolePlaceholder"),value:s.value.systemMessage,"onUpdate:value":i[4]||(i[4]=r=>s.value.systemMessage=r),autosize:{minRows:3}},null,8,["placeholder","value"])])]),U.value.openMore?(b(),$(R,{key:0},[e("section",re,[e("div",null,a(l.$t("mj.temperature")),1),e("div",ue,[e("div",de,[d(t(h),{value:s.value.temperature,"onUpdate:value":i[5]||(i[5]=r=>s.value.temperature=r),step:.01,max:1},null,8,["value","step"])]),e("div",pe,a(s.value.temperature),1)])]),e("div",me,a(l.$t("mj.temperatureInfo")),1),e("section",ce,[e("div",null,a(l.$t("mj.top_p")),1),e("div",ve,[e("div",_e,[d(t(h),{value:s.value.top_p,"onUpdate:value":i[6]||(i[6]=r=>s.value.top_p=r),step:.01,max:1},null,8,["value","step"])]),e("div",ye,a(s.value.top_p),1)])]),e("div",fe,a(l.$t("mj.top_pInfo")),1),e("section",he,[e("div",null,a(l.$t("mj.presence_penalty")),1),e("div",xe,[e("div",be,[d(t(h),{value:s.value.presence_penalty,"onUpdate:value":i[7]||(i[7]=r=>s.value.presence_penalty=r),step:.01,max:1},null,8,["value","step"])]),e("div",$e,a(s.value.presence_penalty),1)])]),e("div",ge,a(l.$t("mj.presence_penaltyInfo")),1),e("section",je,[e("div",null,a(l.$t("mj.frequency_penalty")),1),e("div",we,[e("div",Se,[d(t(h),{value:s.value.frequency_penalty,"onUpdate:value":i[8]||(i[8]=r=>s.value.frequency_penalty=r),step:.01,max:1},null,8,["value","step"])]),e("div",De,a(s.value.frequency_penalty),1)])]),e("div",Ee,a(l.$t("mj.frequency_penaltyInfo")),1),e("section",ke,[e("div",null,a(l.$t("mj.tts_voice")),1),d(t(O),{value:s.value.tts_voice,"onUpdate:value":i[9]||(i[9]=r=>s.value.tts_voice=r),options:t(B),size:"small",class:"!w-[50%]"},null,8,["value","options"])])],64)):(b(),$("div",{key:1,class:"text-right cursor-pointer mb-4",onClick:i[10]||(i[10]=r=>U.value.openMore=!0)},[d(t(q),{type:"primary",round:"",size:"small",bordered:!1,class:"!cursor-pointer"},{default:p(()=>[m("More...")]),_:1})])),e("section",Ue,[d(t(g),{onClick:i[11]||(i[11]=r=>V())},{default:p(()=>[m(a(l.$t("mj.setBtBack")),1)]),_:1}),d(t(g),{type:"primary",onClick:i[12]||(i[12]=r=>L("no"))},{default:p(()=>[m(a(l.$t("common.save")),1)]),_:1})])],64))}}),Me={id:"setserver"},Ae={class:"flex justify-between items-baseline"},Oe={class:"pb-1"},Re={class:"text-right"},Ce={class:"mb-4 flex justify-between items-center"},Ne={class:"text-[var(--n-tab-text-color-active)]"},Pe={class:"mb-4 flex justify-between items-center"},Ie=e("span",{class:"text-[var(--n-tab-text-color-active)]"},"OpenAI Api Key:",-1),Be={class:"flex justify-between items-baseline"},Te={class:"mb-4 flex justify-start items-center"},Ke={class:"mb-4 flex justify-start items-center"},Le={class:"text-right"},Ve={class:"mb-4 flex justify-between items-center"},Ye={class:"text-[var(--n-tab-text-color-active)]"},Je={class:"mb-4 flex justify-between items-center"},qe=e("span",{class:"text-[var(--n-tab-text-color-active)]"},"Midjourney Api Secret:",-1),ze={class:"text-right"},Ge={class:"mb-4 flex justify-between items-center"},Xe={class:"text-[var(--n-tab-text-color-active)]"},We={class:"mb-4 flex justify-between items-center"},Fe=e("span",{class:"text-[var(--n-tab-text-color-active)]"},"Suno Key:",-1),He={class:"text-right"},Qe={class:"mb-4 flex justify-between items-center"},Ze={class:"text-[var(--n-tab-text-color-active)]"},et={class:"mb-4 flex justify-between items-center"},tt=e("span",{class:"text-[var(--n-tab-text-color-active)]"},"Luma Key:",-1),st={class:"text-right"},at={class:"mb-4 flex justify-between items-center"},lt={class:"text-[var(--n-tab-text-color-active)]"},ot={class:"text-right flex justify-end space-x-2"},ut=C({__name:"aiSetServer",emits:["close"],setup(I,{emit:j}){const k=N(),x=()=>{n.setMyData(n.myData),k.success(P("mjchat.success")),j("close")};return E(()=>n.myData.OPENAI_API_BASE_URL,o=>{n.myData.IS_SET_SYNC&&(n.myData.MJ_SERVER=o,n.myData.SUNO_SERVER=o,n.myData.LUMA_SERVER=o)}),E(()=>n.myData.OPENAI_API_KEY,o=>{n.myData.IS_SET_SYNC&&(n.myData.MJ_API_SECRET=o,n.myData.SUNO_KEY=o,n.myData.LUMA_KEY=o)}),(o,s)=>(b(),$("div",Me,[e("div",Ae,[e("div",Oe,[d(t(D),{value:t(n).myData.IS_SET_SYNC,"onUpdate:value":s[0]||(s[0]=u=>t(n).myData.IS_SET_SYNC=u),size:"small"},{checked:p(()=>[m(a(o.$t("mjchat.setSync")),1)]),unchecked:p(()=>[m(a(o.$t("mjchat.setSync")),1)]),_:1},8,["value"])]),e("div",Re,a(o.$t("mj.setOpen")),1)]),e("section",Ce,[d(t(c),{onBlur:t(f),placeholder:o.$t("mj.setOpenPlaceholder"),value:t(n).myData.OPENAI_API_BASE_URL,"onUpdate:value":s[1]||(s[1]=u=>t(n).myData.OPENAI_API_BASE_URL=u),clearable:""},{prefix:p(()=>[e("span",Ne,a(o.$t("mj.setOpenUrl"))+":",1)]),_:1},8,["onBlur","placeholder","value"])]),e("section",Pe,[d(t(c),{onBlur:t(f),type:"password",placeholder:o.$t("mj.setOpenKeyPlaceholder"),"show-password-on":"click",value:t(n).myData.OPENAI_API_KEY,"onUpdate:value":s[2]||(s[2]=u=>t(n).myData.OPENAI_API_KEY=u),clearable:""},{prefix:p(()=>[Ie]),_:1},8,["onBlur","placeholder","value"])]),e("div",Be,[e("section",Te,[d(t(D),{value:t(n).myData.GPTS_GX,"onUpdate:value":s[3]||(s[3]=u=>t(n).myData.GPTS_GX=u)},{checked:p(()=>[m(a(o.$t("mj.gpt_gx")),1)]),unchecked:p(()=>[m(a(o.$t("mj.gpt_gx")),1)]),_:1},8,["value"])]),e("section",Ke,[d(t(D),{value:t(n).myData.MJ_CDN_WSRV,"onUpdate:value":s[4]||(s[4]=u=>t(n).myData.MJ_CDN_WSRV=u)},{checked:p(()=>[m(a(o.$t("mj.wsrvClose")),1)]),unchecked:p(()=>[m(a(o.$t("mj.wsrvOpen")),1)]),_:1},8,["value"])])]),e("div",Le,a(o.$t("mj.setMj")),1),e("section",Ve,[d(t(c),{placeholder:o.$t("mj.setOpenPlaceholder"),value:t(n).myData.MJ_SERVER,"onUpdate:value":s[5]||(s[5]=u=>t(n).myData.MJ_SERVER=u),clearable:""},{prefix:p(()=>[e("span",Ye,a(o.$t("mj.setMjUrl")),1)]),_:1},8,["placeholder","value"])]),e("section",Je,[d(t(c),{type:"password",placeholder:o.$t("mj.setMjKeyPlaceholder"),"show-password-on":"click",value:t(n).myData.MJ_API_SECRET,"onUpdate:value":s[6]||(s[6]=u=>t(n).myData.MJ_API_SECRET=u),clearable:""},{prefix:p(()=>[qe]),_:1},8,["placeholder","value"])]),e("div",ze,a(o.$t("suno.serverabout")),1),e("section",Ge,[d(t(c),{onBlur:t(f),placeholder:o.$t("mj.setOpenPlaceholder"),value:t(n).myData.SUNO_SERVER,"onUpdate:value":s[7]||(s[7]=u=>t(n).myData.SUNO_SERVER=u),clearable:""},{prefix:p(()=>[e("span",Xe,a(o.$t("suno.server"))+":",1)]),_:1},8,["onBlur","placeholder","value"])]),e("section",We,[d(t(c),{onBlur:t(f),type:"password",placeholder:o.$t("suno.setOpenKeyPlaceholder"),"show-password-on":"click",value:t(n).myData.SUNO_KEY,"onUpdate:value":s[8]||(s[8]=u=>t(n).myData.SUNO_KEY=u),clearable:""},{prefix:p(()=>[Fe]),_:1},8,["onBlur","placeholder","value"])]),e("div",He,a(o.$t("video.lumaabout")),1),e("section",Qe,[d(t(c),{onBlur:t(f),placeholder:o.$t("mj.setOpenPlaceholder"),value:t(n).myData.LUMA_SERVER,"onUpdate:value":s[9]||(s[9]=u=>t(n).myData.LUMA_SERVER=u),clearable:""},{prefix:p(()=>[e("span",Ze,a(o.$t("video.lumaserver"))+":",1)]),_:1},8,["onBlur","placeholder","value"])]),e("section",et,[d(t(c),{onBlur:t(f),type:"password",placeholder:o.$t("video.setOpenKeyPlaceholder"),"show-password-on":"click",value:t(n).myData.LUMA_KEY,"onUpdate:value":s[10]||(s[10]=u=>t(n).myData.LUMA_KEY=u),clearable:""},{prefix:p(()=>[tt]),_:1},8,["onBlur","placeholder","value"])]),e("div",st,a(o.$t("mj.setUploader")),1),e("section",at,[d(t(c),{placeholder:o.$t("mj.setOpenPlaceholder"),value:t(n).myData.UPLOADER_URL,"onUpdate:value":s[11]||(s[11]=u=>t(n).myData.UPLOADER_URL=u),clearable:""},{prefix:p(()=>[e("span",lt,a(o.$t("mj.setUploaderUrl")),1)]),_:1},8,["placeholder","value"])]),e("section",ot,[d(t(g),{onClick:s[12]||(s[12]=u=>t(n).setInit())},{default:p(()=>[m(a(o.$t("mj.setBtBack")),1)]),_:1}),d(t(g),{type:"primary",onClick:x},{default:p(()=>[m(a(o.$t("mj.setBtSave")),1)]),_:1})])]))}});export{ut as _,rt as a};
